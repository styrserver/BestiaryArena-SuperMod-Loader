'''<big>Thanks to [https://github.com/TheMegafuji/ TheMegafuji] and [https://github.com/mathiasbynens MathiasBynens] for providing the [[Bestiary Arena Mod Loader|original mod loader]].</big>'''

= BestiaryArena SuperMod Loader =

A browser extension that allows loading and managing custom mods for the Bestiary Arena game. This extension is a clone of the original Bestiary Arena Mod Loader with reworked mod loading, including advanced Super Mods like Cyclopedia and Hunt Analyzer. It provides a framework for creating, loading, and managing mods that can extend the game's functionality.

== Installation ==
[https://addons.mozilla.org/en-US/firefox/addon/bestiaryarena-supermod-loader/ Firefox] installation.

[https://chromewebstore.google.com/detail/bestiaryarena-supermod-lo/hloidpjbdbbhhkihgeeddnofmpgbffjd Chromium] installation.

== Alternative Installation ==

=== Firefox Installation (Alternative) ===
# Download the extension files from the [https://github.com/styrserver/BestiaryArena-SuperMod-Loader GitHub repository]
# Clone this repository or download it as a ZIP file
# Open Firefox and navigate to <code>about:debugging</code>
# Click "This Firefox" tab
# Click "Load Temporary Add-on" and select the <code>manifest_firefox.json</code> file

=== Chromium Installation (Alternative) ===
# Download the extension files from the [https://github.com/styrserver/BestiaryArena-SuperMod-Loader GitHub repository]
# Unzip the files to a location on your computer
# Open your Chrome-based browser (Chrome, Edge, Brave, etc.)
# Go to <code>chrome://extensions/</code> in your browser
# Enable "Developer mode" using the toggle in the top-right corner
# Click "Load unpacked" and select the folder containing the extension files
# The extension icon should now appear in your browser toolbar

== Features ==
* '''Mod Management''': Load mods from local files or GitHub Gists
* '''Configuration System''': Save and manage mod configurations between sessions, with improved support for advanced mod settings
* '''Standardized UI Components''': Game-styled UI elements for consistency across mods
* '''Session Widget''': Real-time session stats for mods like Autoseller (e.g., sold/squeezed counts, gold/dust earned)
* '''Internationalization''': Built-in translation support for mods
* '''Game API Access''': Safe access to game state and functions
* '''Developer-Friendly''': Comprehensive documentation and examples
* '''Super Mods''': Advanced mods with comprehensive game enhancement features

== Using the Mod Loader ==
After installing the extension, navigate to [https://bestiaryarena.com/ Bestiary Arena]. The extension will automatically inject its code into the game page.

To access the Mod Loader interface, click the extension icon in your browser toolbar.

=== Extension Popup Interface ===
The extension provides a modern, store-like popup interface for managing your mods with the following features:
* '''Store-like Grid Layout''': Browse mods in an organized grid view with visual mod cards
* '''Search Functionality''': Quickly find mods by name using the search bar
* '''Category Filtering''': Filter mods by category (All, Original Mods, SuperMods, OT Mods, Custom Mods) with enabled/total counts
* '''Mod Cards''': Each mod displays with:
** Mod name and category badge (color-coded by type)
** Description of mod functionality
** Enable/disable toggle switch
** Delete button for custom mods
* '''Patch Notes System''': Automatically displays patch notes for new versions, with manual viewing option
* '''Storage Usage Display''': Monitor extension storage usage in real-time
* '''Extras Section''': Collapsible section containing:
** '''Debug Mode''': Toggle console logging for all mods
** '''Outfiter''': Access all outfits in the outfit selector
** '''Welcome Page''': Enable/disable the welcome page on next load
** '''Patch Notes''': View latest changes and updates
* '''Add Script Section''': Collapsible section for importing mods from GitHub Gists (supports both hash and full URL)
* '''External Links''': Quick access to find more user-generated mods on the wiki

=== Loading Mods ===
There are two ways to load mods:
# '''Local Mods''': Place mod JavaScript files in the <code>mods/</code> directory and they will be available for loading.
# '''Gist Mods''': Enter a GitHub Gist hash ID in the mod loader interface to load a mod from GitHub.

=== Managing Mods ===
You can enable, disable, and configure mods from the mod loader interface. Each mod can have its own configuration settings, which are saved between sessions.

== Mod Development ==
Mods can be written in JavaScript and have access to the game's state and a powerful API for interacting with the game. See the Mod Development Guide for detailed information on creating mods.

=== Standardized UI Components ===
The extension provides a set of UI components that match the game's style. These components ensure a consistent look and feel across all mods:
* '''Modals''': Game-styled dialog windows
* '''Scrollable Containers''': For content that exceeds the viewable area
* '''Monster Portraits''': Display monsters with proper styling
* '''Item Portraits''': Display items with proper styling
* '''Room List Items''': Display rooms with proper styling
* '''Navigation Breadcrumbs''': For hierarchical navigation

Example of using UI components:
<syntaxhighlight lang="javascript">
// Create a monster portrait
const monsterPortrait = api.ui.components.createMonsterPortrait({
  monsterId: 21,  // Monster ID
  level: 50,      // Monster level
  tier: 4,        // Monster tier (1-5)
  onClick: () => showMonsterDetails(21)
});
</syntaxhighlight>

=== Access to Game State ===
Mods have access to the game's state through <code>globalThis.state</code>, which provides information about:
* Player stats and inventory
* Monster database and current monsters
* Equipment and items
* Game board state
* Room information
* Game settings

== Project Structure ==
* <code>assets/</code> - Static assets such as fonts, icons, and scripts
** <code>challenges/</code> - Assets for the Challenges mod (e.g. Exalted Core icon)
** <code>fonts/</code> - Custom fonts used by the UI components
** <code>icons/</code> - Icons used by the extension and mods
** <code>js/</code> - JavaScript libraries, including UI components
** <code>locales/</code> - Internationalization files
** <code>originalassets/</code> - Original game assets for UI components
* <code>content/</code> - Content scripts that are injected into the game page
** <code>client.js</code> - Main client-side API and functionality
** <code>injector.js</code> - Injects the client code into the game page
** <code>mod-coordination.mjs</code> - Global mod coordination system for managing mod states, priorities, and resource control
** <code>local_mods.js</code> - Manages local mods
** <code>ba-sandbox-utils.mjs</code> - Sandbox utility functions
** <code>utility_injector.js</code> - Utility injection system
* <code>docs/</code> - Documentation for mod developers
* <code>database/</code> - Stores persistent data and tooltips used by mods
** <code>media.txt</code> - Media asset definitions
** <code>inventory-database.js</code> - Inventory tooltip data
** <code>creature-database.js</code> - Creature database
** <code>equipment-database.js</code> - Equipment database
** <code>maps-database.js</code> - Maps database
** <code>Welcome.js</code> - Welcome screen data
* <code>mods/</code> - Local mod files, organized as follows:
** <code>Official Mods/</code> - Core mods that provide essential gameplay enhancements and are included by default.
** <code>Super Mods/</code> - Advanced mods with comprehensive features, included by default (see below for details).
** <code>OT Mods/</code> - Community and social mods, included by default (see below for details).
* <code>popup/</code> - Extension popup UI
* <code>backups/</code> - Automatic backup storage for extension files
* <code>background.js</code> - Background script for the extension
* <code>manifest.json</code> - Extension manifest
* <code>manifest_chromium.json</code> - Chromium-specific manifest

== Documentation ==
* [https://github.com/styrserver/BestiaryArena-SuperMod-Loader/blob/main/docs/mod_development_guide.md Mod Development Guide] - Comprehensive guide for mod developers
* [https://github.com/styrserver/BestiaryArena-SuperMod-Loader/blob/main/docs/ui_management.md UI Management API] - Documentation for the UI Management API
* [https://github.com/styrserver/BestiaryArena-SuperMod-Loader/blob/main/docs/ui_components.md UI Components Documentation] - Documentation for the UI Components
* [https://github.com/styrserver/BestiaryArena-SuperMod-Loader/blob/main/docs/client_api.md Client API Documentation] - Complete reference for the game's Client API
* [https://github.com/styrserver/BestiaryArena-SuperMod-Loader/blob/main/docs/game_state_api.md Game State API Documentation] - Complete reference for accessing and modifying game state

== Mods ==
The extension comes with several powerful mods that demonstrate different features:

=== Super Mods ===
These are advanced mods that provide comprehensive game enhancement features. All 23 Super Mods listed below are included by default in this loader:

==== Autoscroller ====
Automates summon scroll usage to collect specific creatures:
* Select target creatures from a comprehensive list
* Choose scroll tier (grey, green, blue, purple, yellow)
* Set stopping conditions (total creatures or tier-based targets)
* Configurable autoscroll speed with rate-limit protection
* Real-time tracking of found creatures and scroll usage

==== Autoseller ====
Automatically sells or squeezes creatures based on gene thresholds and user settings:
* Configurable gene thresholds for selling and squeezing
* Minimum count triggers for batch actions
* Session widget displaying sold/squeezed counts and rewards
* Integrated with the mod loader's configuration system
* Real-time tracking of gold and dust earnings

==== Better Analytics ====
Adds comprehensive damage per tick (DPT) tracking and real-time DPS calculations to the damage analyzer:
* Real-time damage per second (DPS) calculations displayed next to damage values
* Automatic tracking of damage changes throughout the game session
* Support for all game modes (manual, autoplay, sandbox)
* Auto-opening of the impact analyzer panel for seamless tracking
* Accurate DPS calculations using server game ticks for precise timing

==== Better Boosted Maps ====
Automates daily boosted map farming with intelligent coordination:
* Automatically farms the daily boosted map when conditions are met
* Coordinates with Raid Hunter and Better Tasker to prevent automation conflicts
* Customizable map and equipment selection for targeted farming
* Auto-setup and autoplay integration for seamless execution
* Configurable settings including stamina refill, faster autoplay, and autoplant

==== Better Exaltation Chest ====
Enhances the Exaltation Chest interface with automated opening and intelligent equipment management:
* Auto-opening functionality with configurable speed and disenchanting settings
* Equipment filtering by tier, stat requirements, and customizable criteria
* Automatic disenchanting of unwanted equipment based on user preferences
* Real-time dust tracking with animated counters and session statistics
* Equipment statistics tracking (kept, disenchanted, dust gained) with comprehensive settings panel

==== Better Cauldron ====
Enhances the native Monster Cauldron interface with powerful search and filter functionality:
* Real-time search through all monsters in your cauldron
* Filter monsters by rarity (Grey, Green, Blue, Purple, Yellow)
* Game-styled UI controls that integrate seamlessly with the existing interface
* Automatic detection and enhancement of the cauldron modal
* Efficient filtering system for managing large monster collections

==== Better Forge ====
Comprehensive equipment management system with advanced disenchanting capabilities:
* Arsenal management with search and tier filtering functionality
* Batch disenchanting with confirmation system and progress tracking
* Real-time dust display and inventory updates
* Equipment search by name and filter by tier (T1-T5)
* Visual progress bar and status updates during disenchanting

==== Better Highscores ====
Displays real-time leaderboard information for the current map:
* Show current map's tick and rank leaderboards in bottom left corner
* Real-time updates when switching between maps
* Automatic data fetching from the game's TRPC API
* Styled leaderboard display with medal colors (gold, silver, bronze)
* Manual refresh capability for up-to-date information

==== Better Hy'genie ====
Enhances the Hy'genie fusion interface with quantity inputs, smart fusion ratios, and improved UI:
* Adds quantity input fields and custom fuse buttons to the Hy'genie modal
* Calculates maximum fusable amount based on inventory and fusion ratio
* Provides confirmation prompts and error feedback inside the tooltip
* Automatically refreshes inventory counts and UI after fusion
* Smart fusion ratio calculations for optimal resource usage

==== Better Rune Recycler ====
Automates rune recycling with batch processing and comprehensive statistics (by [https://bestiaryarena.com/profile/btlucas btlucas]):
* Automated recycling with configurable cycles and rune selection
* Select exactly 3 runes to sacrifice per cycle with real-time validation
* Real-time inventory tracking and statistics display during recycling
* Batch processing with progress tracking and automatic inventory updates
* Comprehensive statistics tracking (consumed runes, created runes, gold spent)

==== Better Yasir ====
Enhances Yasir's traveling merchant shop with bulk transaction capabilities and smart pricing:
* Adds quantity input fields for bulk buying and selling items
* Real-time price calculations and resource availability checks
* Confirmation prompts with total cost display for safe transactions
* Automatic inventory and currency updates after purchases
* Smart handling of different item types (dice manipulators, exaltation chests, stones of insight)

==== Better Setups ====
Comprehensive setup label management system for organizing team configurations:
* Activates and manages setup labels (Farm, Speedrun, Rank Points, Boosted Map, Other)
* Add, edit, and remove custom setup labels for different strategies
* Edit individual setup labels directly from the setup interface
* Automatic integration with the game's native setup system
* Backup reminder integration with Configurator for safe label management

==== Better Tasker ====
Advanced quest automation system that streamlines task completion and management:
* Automatically opens quest log, accepts new tasks, and navigates to recommended maps
* Coordinates with other mods to prevent conflicts during automation
* Pauses all automations when tasks are ready to be claimed
* Smart quest button management with visual tasking indicators
* Integration with Raid Hunter for seamless automation switching

==== Cyclopedia ====
A comprehensive game data viewer and player profile manager with advanced features:
* '''Monster Database''': Browse and search all monsters with detailed stats, abilities, and locations
* '''Equipment Database''': View all equipment with stats, tiers, and optimization recommendations
* '''Player Profiles''': Search and view detailed player profiles with statistics and achievements
* '''Leaderboards''': Access real-time leaderboards for maps, rankings, and competitions
* '''Run Tracking''': View and analyze personal run history with RunTracker integration

==== Dice Roller ====
Automates dice rolling for stat rerolling:
* Automatically clicks the roll button and checks for target stats
* Lets you set target values for each stat
* Stops rolling when a desired stat value is reached
* Displays roll count and status in a custom panel
* Configurable target thresholds for optimal stat optimization

==== Hunt Analyzer ====
Advanced autoplay and loot tracking system:
* Track detailed statistics from autoplay sessions
* Monitor gold, dust, and item drops
* Analyze creature and equipment drop rates
* View session summaries and performance metrics
* Export data for further analysis

==== Manual Runner ====
Automates repeated manual runs until victory, target S+ rank, or maximum floor:
* Automatically starts fights and closes reward screens between attempts
* Tracks comprehensive statistics including attempts, defeats, victories, stamina spent, and rank points
* Multiple stop conditions: any victory, target S+ rank based on map and team size, or reach maximum floor
* Automatically advances to next floor after victory when using Maximum Floor mode
* Results modal with detailed statistics and ability to copy replay/seed for successful runs

==== Mod Settings ====
Centralized mod configuration and backup system with UI enhancements:
* Stamina timer showing exact time when stamina will be full with real-time tracking
* Visual enhancements: Max Creatures and Shinies highlighting with 6 customizable color themes (Prismatic, Demonic, Frosty, Venomous, Divine, Undead)
* Favorites system to mark creatures with custom symbols (heart or stat icons) and Shiny Enemies feature for battles
* Live player count display in header with 30-second updates and setup labels visibility toggle
* Backup/restore configuration including active mods, settings, and game data with integrated settings panel
* Firebase best runs upload: Upload your best runs to Firebase with password encryption, auto-upload when new best runs are recorded, and download runs as .txt files with $replay links

==== Outfiter ====
Comprehensive outfit management system:
* Browse and preview all available outfits
* Save and manage custom outfit combinations
* Color customization for outfits
* Outfit storage and retrieval system
* Integration with game's outfit system

==== Raid Hunter ====
Advanced raid automation system for Bestiary Arena:
* Automatically detects and joins available raids based on user preferences with regional organization
* Auto-setup and autoplay integration for seamless raid execution
* Stamina monitoring and auto-refill integration with Bestiary Automator
* Real-time raid status monitoring with countdown timers and queue system for multiple raids
* Comprehensive settings panel for customization and raid map selection

==== RunTracker ====
Local run data tracking and storage system:
* Automatically tracks and stores run data locally
* Stores run history with detailed statistics
* Replay data management and storage
* Integration with other mods for comprehensive tracking
* Hidden mod that works behind the scenes

==== Stamina Optimizer ====
Automatically manages stamina levels by starting/stopping gameplay (by [https://bestiaryarena.com/profile/btlucas btlucas]):
* Configurable max/min stamina thresholds for automatic gameplay control
* Supports autoplay or boosted-maps farming actions when stamina reaches maximum
* Coordinates with Raid Hunter, Better Tasker, and Better Boosted Maps to prevent conflicts
* Monitors Bestiary Automator refills to avoid interfering with stamina refills
* Automatic gameplay pause when stamina drops below minimum threshold

=== OT Mods ===
These are community and social mods that enhance player interaction and community features. All 4 OT Mods listed below are included by default in this loader:

==== Challenges ====
Challenges mod with inventory integration:
* Clickable Exalted Core icon in the inventory that opens the Challenges modal
* Modal with Start button (placeholder for future challenge features)
* Same modal size as Cyclopedia for consistent UX

==== Guilds ====
Social guild system for creating and managing player communities:
* Create, join, and manage guilds with role-based permissions (Leader, Officer, Member)
* Encrypted guild chat with real-time messaging and system notifications
* Member management with invite, kick, promote, and demote functionality
* Guild browser to search and discover available guilds
* Transfer leadership and edit guild information with comprehensive settings

==== VIP List ====
Player management system for tracking favorite players:
* Add players to your VIP list via search functionality
* Display player information including level, status, rank points, and time sum with sortable columns
* Quick access to player profiles and Cyclopedia from dropdown menu
* Automatic data refresh when opening the VIP list modal
* Accessible from the account menu for convenient management

==== Quests ====
Comprehensive quest system that enhances the game's quest mechanics and NPC interactions:
* Enhanced quest tracking and mission management
* Improved NPC interactions and dialogue systems
* Quest item management and trading system with proper UI integration
* Firebase integration for mission progress tracking across sessions
* Interactive quest dialogs with completion tracking

=== Official Mods ===
These are the core mods that provide essential gameplay enhancements. All 11 Official Mods listed below are included by default:

==== Bestiary Automator ====
Automates routine gameplay actions to streamline your Bestiary Arena experience:
* Automatic stamina refilling when low
* Auto-collection of available rewards
* Automatic handling of Day Care tasks
* Customizable automation settings for safe and efficient play
* Streamlined gameplay experience with minimal manual intervention

==== Board Analyzer ====
Analyzes and simulates board setups for optimal strategies and performance:
* Advanced board setup analysis and simulation
* Performance optimization recommendations
* Strategic planning tools for complex scenarios
* Testing environment for different configurations
* Useful for advanced planning and testing

==== Custom Display ====
Enhances game visuals with two powerful features:
* '''Performance Mode''': Strips down graphics for better performance on low-end devices
* '''Map Grid''': Adds a coordinate grid overlay to help with positioning and planning
* Extensive customization settings for colors, visibility, and display options
* Real-time visual adjustments without page refresh
* Optimized performance for various device capabilities

==== Hero Editor ====
A powerful tool that allows players to:
* Edit monster stats directly in the game
* Modify equipment attributes (stat type, tier)
* Apply changes instantly to the game board
* Save and load custom setups
* Perfect for testing different monster and equipment combinations without having to collect and level them in-game

==== Highscore Improvements ====
Enhances the game's highscore display with additional statistics, improved sorting options, and visual enhancements:
* Detailed performance analysis
* Potential time improvements compared to top scores
* Room-by-room breakdown of performance
* Visual indicators for time differences
* Enhanced sorting and filtering options for better comparison

==== Item Tier List ====
Displays equipment statistics and rankings, allowing players to compare items and make informed decisions about their loadouts:
* Item effectiveness by tier
* Stat optimizations for different monsters
* Best-in-slot recommendations
* Visual quality indicators
* Comprehensive equipment comparison and analysis

==== Monster Tier List ====
Analyzes monster usage patterns and displays statistics and rankings, helping players identify the most effective monsters for different scenarios:
* Sortable tier list of monsters
* Usage statistics across different room types
* Win rate and performance metrics
* Visual representation of monster effectiveness
* Data-driven monster selection recommendations

==== Setup Manager ====
Allows players to save, load, and manage team configurations for different maps:
* Multiple saved team setups per map
* Easy switching between configurations
* Automatic detection of map changes
* Custom naming of team configurations
* Integration with the game's auto-configure button

==== Team Copier ====
Enables sharing team configurations with other players through:
* Copying team setup as JSON command
* Generating sharable links (compact or readable)
* Opening shared configurations in new windows
* Optional inclusion of game seeds for exact replays
* History of recently used seeds

==== Tick Tracker ====
Tracks and displays the number of game ticks (and optionally milliseconds) for each session:
* Real-time tick tracking widget
* History of recent tick counts
* Option to show milliseconds conversion
* Copy and clear tick history with a single click
* Useful for speedrunners and performance analysis

==== Turbo Mode ====
Speed up gameplay for faster testing and grinding:
* Increase game speed for faster progression
* Customizable speed multipliers
* Real-time tick display
* Perfect for testing strategies quickly
* Great for farming and grinding sessions


== Contributing ==
Contributions are welcome! If you have a mod you'd like to share or improvements to the extension, please read our [https://github.com/styrserver/BestiaryArena-SuperMod-Loader/blob/main/CONTRIBUTING.md Contribution Guidelines].

== Frequently Asked Questions ==
=== Is this extension safe to use? ===
Yes! The mod loader doesn't modify any game files directly. It only adds features to your browser's version of the game. In case you have any doubts, the source code is fully available for inspection and review on GitHub.

=== Will using mods get me banned? ===
This mod loader is designed for enhancing single-player gameplay. It was all made with consent from Alexandre Regali Seleghim (Xandjiji) which is the creator of Bestiary Arena.

=== Do I need to update the extension? ===
Occasionally, you may need to update the extension when new game versions are released. Check the GitHub repository for updates.

=== Can I create my own mods? ===
Yes! If you know JavaScript, you can create your own mods. Check the [https://github.com/styrserver/BestiaryArena-SuperMod-Loader/blob/main/docs/mod_development_guide.md Mod Development Guide] for technical details.

=== How do I report bugs or suggest features? ===
Visit the [https://github.com/styrserver/BestiaryArena-SuperMod-Loader/issues GitHub Issues page] to report bugs or suggest new features.

== Troubleshooting ==
If you encounter any issues:
* '''Mods not appearing?''' Make sure you're on the Bestiary Arena website and the extension is enabled.
* '''Game performance issues?''' Try using the Performance Mode mod to improve game speed.
* '''Extension not working after game update?''' Check for extension updates on GitHub.
* '''Specific mod not working?''' Disable and re-enable the mod, or refresh the page.
* '''Autoseller session widget not updating?''' Ensure the mod is enabled and you have completed at least one battle for stats to appear.
* '''Turbo Mode not working?''' Make sure you're in a game session and try refreshing the page.
* '''Board Analyzer issues?''' Ensure you're in sandbox mode and have a valid board configuration.

== Credits ==
=== Original Developers ===
* [https://github.com/TheMegafuji/ TheMegafuji] (In-game name: '''megafuji''')
* [https://github.com/mathiasbynens MathiasBynens] (In-game name: '''mathiasbynens''')

=== SuperMod Loader Maintainer ===
* [https://bestiaryarena.com/profile/muhamad Muhamad] - Creator and maintainer of the Bestiary Arena SuperMod Loader

=== Special Thanks ===
This project has been developed with the express consent and approval of the original Bestiary Arena game developer:
* [https://github.com/xandjiji Alexandre Regali Seleghim (Xandjiji)]

== License ==
This project is licensed under the MIT License. See the LICENSE file for details. 